"use strict";(self["webpackChunksmart_mall"]=self["webpackChunksmart_mall"]||[]).push([[258],{6258:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});a(7658);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list"},[e("van-nav-bar",{attrs:{title:"商品列表","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("form",{attrs:{action:"/"}},[e("van-search",{attrs:{shape:"round",placeholder:"请输入搜索关键词",clearable:"",autofocus:"","show-action":"",maxlength:"24"},on:{search:function(e){return t.goSearch(t.search)},focus:function(e){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:function(e){return t.$router.push("/category")}}},[e("van-icon",{attrs:{name:"apps-o"}})],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("van-dropdown-menu",[e("van-dropdown-item",{attrs:{options:t.option1},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),e("van-dropdown-item",{attrs:{options:t.option2},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),0===t.proList.length?e("div",{staticClass:"empty"},[e("img",{attrs:{src:a(124),alt:""}}),e("br"),t._v(" 没有搜索到该商品~~ ")]):t._e()],1),e("div",{staticClass:"content"},t._l(t.proList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},s=[],r=a(6005),n=a(1787),u={name:"searchList",components:{GoodsItem:r.Z},data(){return{search:this.$route.query.search,page:"1",proList:[],value1:"all",value2:0,option1:[{text:"综合搜索",value:"all"},{text:"销量搜索",value:"sales"},{text:"价格搜索",value:"price"}],option2:[{text:"价格升序",value:0},{text:"价格降序",value:1}]}},async created(){const t=await(0,n.Fs)({goodsName:this.querySearch,page:this.page});this.proList=t.data.list.data},computed:{querySearch(){return this.$route.query.search}},methods:{goSearch(t){}}},c=u,l=a(1001),i=(0,l.Z)(c,o,s,!1,null,null,null),p=i.exports},1787:function(t,e,a){a.d(e,{Fs:function(){return s},OI:function(){return r},xD:function(){return n}});var o=a(4471);const s=t=>o.Z.post("/goods/list",{goodsName:t.goodsName,page:t.page}),r=t=>o.Z.post("/goods/detail",{goodsId:t}),n=t=>o.Z.post("/comment/listRows",{goodsId:t,limit:5})}}]);
//# sourceMappingURL=258.d1e58caf.js.map