{"version":3,"file":"js/258.d1e58caf.js","mappings":"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","sources":["webpack://smart-mall/./src/views/search/list.vue","webpack://smart-mall/src/views/search/list.vue","webpack://smart-mall/./src/views/search/list.vue?395f","webpack://smart-mall/./src/views/search/list.vue?8e03","webpack://smart-mall/./src/api/product.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"list\"},[_c('van-nav-bar',{attrs:{\"title\":\"商品列表\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('form',{attrs:{\"action\":\"/\"}},[_c('van-search',{attrs:{\"shape\":\"round\",\"placeholder\":\"请输入搜索关键词\",\"clearable\":\"\",\"autofocus\":\"\",\"show-action\":\"\",\"maxlength\":\"24\"},on:{\"search\":function($event){return _vm.goSearch(_vm.search)},\"focus\":function($event){return _vm.$router.push('/search')}},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{on:{\"click\":function($event){return _vm.$router.push('/category')}}},[_c('van-icon',{attrs:{\"name\":\"apps-o\"}})],1)]},proxy:true}]),model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('van-dropdown-menu',[_c('van-dropdown-item',{attrs:{\"options\":_vm.option1},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}}),_c('van-dropdown-item',{attrs:{\"options\":_vm.option2},model:{value:(_vm.value2),callback:function ($$v) {_vm.value2=$$v},expression:\"value2\"}}),(_vm.proList.length === 0)?_c('div',{staticClass:\"empty\"},[_c('img',{attrs:{\"src\":require(\"@/assets/empty.png\"),\"alt\":\"\"}}),_c('br'),_vm._v(\" 没有搜索到该商品~~ \")]):_vm._e()],1),_c('div',{staticClass:\"content\"},_vm._l((_vm.proList),function(item){return _c('GoodsItem',{key:item.goods_id,attrs:{\"item\":item}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list\">\r\n    <van-nav-bar title=\"商品列表\" left-arrow @click-left=\"$router.go(-1)\" />\r\n    <form action=\"/\">\r\n      <van-search\r\n        shape=\"round\"\r\n        v-model=\"search\"\r\n        placeholder=\"请输入搜索关键词\"\r\n        clearable\r\n        autofocus\r\n        show-action\r\n        maxlength=\"24\"\r\n        @search=\"goSearch(search)\"\r\n        @focus=\"$router.push('/search')\"\r\n      >\r\n        <template #action>\r\n          <div @click=\"$router.push('/category')\">\r\n            <van-icon name=\"apps-o\" />\r\n          </div>\r\n        </template>\r\n      </van-search>\r\n    </form>\r\n    <van-dropdown-menu>\r\n      <van-dropdown-item v-model=\"value1\" :options=\"option1\" />\r\n      <van-dropdown-item v-model=\"value2\" :options=\"option2\" />\r\n      <div v-if=\"proList.length === 0\" class=\"empty\">\r\n\r\n        <img src=\"@/assets/empty.png\" alt=\"\" /><br>\r\n        没有搜索到该商品~~\r\n      </div>\r\n    </van-dropdown-menu>\r\n    <div class=\"content\"><GoodsItem\r\n      v-for=\"item in proList\"\r\n      :key=\"item.goods_id\"\r\n      :item=\"item\"\r\n    ></GoodsItem></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GoodsItem from '@/components/GoodsItem.vue'\r\nimport { getProList } from '@/api/product'\r\nexport default {\r\n  name: 'searchList',\r\n  components: { GoodsItem },\r\n  data () {\r\n    return {\r\n      search: this.$route.query.search,\r\n      page: '1',\r\n      proList: [],\r\n      value1: 'all',\r\n      value2: 0,\r\n      option1: [\r\n        { text: '综合搜索', value: 'all' },\r\n        { text: '销量搜索', value: 'sales' },\r\n        { text: '价格搜索', value: 'price' }\r\n      ],\r\n      option2: [\r\n        { text: '价格升序', value: 0 },\r\n        { text: '价格降序', value: 1 }\r\n      ]\r\n    }\r\n  },\r\n  async created () {\r\n    const res = await getProList({\r\n      goodsName: this.querySearch,\r\n      page: this.page\r\n    })\r\n    this.proList = res.data.list.data\r\n  },\r\n  computed: {\r\n    querySearch () {\r\n      return this.$route.query.search\r\n    }\r\n  },\r\n  methods: {\r\n    goSearch (words) {\r\n      // console.log(words)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.list {\r\n  background-color: #f7f8fa;\r\n}\r\n.empty {\r\n  font-size: 20px;\r\n  color: gray;\r\n  text-align: center;\r\n  background-color: #fff;\r\n  padding-top: 100px;\r\n  img{\r\n    width: 150px;\r\n  }\r\n}\r\n.van-icon-apps-o {\r\n  font-size: 22px;\r\n  vertical-align: middle;\r\n}\r\n.van-dropdown-menu {\r\n  .van-dropdown-menu__bar {\r\n    height: 8vw;\r\n    box-shadow: 0 0vw 0vw rgba(0, 0, 0, 0.12);\r\n  }\r\n}\r\n.content{\r\n  padding: 0px 5px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=046b989d&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=046b989d&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n// 用于拿取搜索商品\r\nexport const getProList = (obj) => {\r\n  return request.post('/goods/list', {\r\n    goodsName: obj.goodsName,\r\n    page: obj.page\r\n  })\r\n}\r\n\r\n// 获取商品详情\r\nexport const getProDeatil = (goodsid) => {\r\n  return request.post('/goods/detail', {\r\n    goodsId: goodsid\r\n  })\r\n}\r\n\r\n// 获取商品评价\r\nexport const getProReta = (goodsid) => {\r\n  return request.post('/comment/listRows', {\r\n    goodsId: goodsid,\r\n    limit: 5\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","go","goSearch","search","push","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","expression","option1","value1","option2","value2","proList","length","require","_v","_e","_l","item","goods_id","staticRenderFns","name","components","GoodsItem","data","$route","query","page","text","created","res","getProList","goodsName","querySearch","list","computed","methods","words","component","obj","request","post","getProDeatil","goodsid","goodsId","getProReta","limit"],"sourceRoot":""}